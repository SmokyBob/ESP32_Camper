#ifndef OLED_UTIL_H
#define OLED_UTIL_H

#include "Arduino.h"
#include "globals.h"
#include "OneButton.h"

// Libraries for OLED Display
#include <Wire.h>
#include <U8g2lib.h>

// OLED pins for TTGO_LORA_V1
#define OLED_SDA 4
#define OLED_SCL 15
#define OLED_RST 16

// // Icons - Material as prog mem bitmaps
// const unsigned char epd_cell_tower[] PROGMEM = {
//     0x00, 0x00, 0x00, 0x00, 0x08, 0x10, 0x0c, 0x30, 0x24, 0x2c, 0x94, 0x29, 0x94, 0x29, 0xb4, 0x2d,
//     0xa4, 0x21, 0xc8, 0x13, 0x40, 0x02, 0x40, 0x02, 0xe0, 0x03, 0x20, 0x06, 0x00, 0x00, 0x00, 0x00};
// const unsigned char epd_hourglass[] PROGMEM = {
//     0x00, 0x00, 0x00, 0x00, 0xf8, 0x1f, 0x30, 0x0c, 0x10, 0x08, 0x30, 0x0c, 0x20, 0x04, 0xc0, 0x03,
//     0xc0, 0x03, 0x20, 0x04, 0x30, 0x0c, 0x10, 0x08, 0x30, 0x0c, 0xf8, 0x1f, 0x00, 0x00, 0x00, 0x00};
// const unsigned char epd_timer[] PROGMEM = {
//     0x00, 0x00, 0xc0, 0x03, 0x00, 0x00, 0xc0, 0x03, 0xe0, 0x1e, 0x10, 0x18, 0x88, 0x11, 0x88, 0x11,
//     0x8c, 0x31, 0x08, 0x30, 0x08, 0x10, 0x18, 0x18, 0x30, 0x0c, 0xe0, 0x07, 0x00, 0x00, 0x00, 0x00};
// const unsigned char epd_termostat[] PROGMEM = {
//     0x00, 0x00, 0x00, 0x00, 0x80, 0x03, 0x40, 0x02, 0x40, 0x03, 0x40, 0x02, 0x40, 0x02, 0xc0, 0x03,
//     0xc0, 0x03, 0xe0, 0x07, 0xe0, 0x07, 0xe0, 0x07, 0xe0, 0x07, 0xc0, 0x03, 0x00, 0x00, 0x00, 0x00};
// const unsigned char epd_humidity[] PROGMEM = {
//     0x00, 0x00, 0x00, 0x00, 0x80, 0x01, 0xc0, 0x02, 0x60, 0x06, 0x10, 0x08, 0x18, 0x18, 0x08, 0x10,
//     0x08, 0x10, 0x08, 0x10, 0x08, 0x10, 0x08, 0x10, 0x10, 0x08, 0xe0, 0x07, 0x00, 0x00, 0x00, 0x00};
// const unsigned char epd_bolt[] PROGMEM = {
//     0x00, 0x00, 0x00, 0x02, 0x00, 0x03, 0x80, 0x03, 0x80, 0x02, 0x40, 0x00, 0x20, 0x01, 0x30, 0x1e,
//     0x10, 0x08, 0x78, 0x04, 0x40, 0x02, 0x40, 0x01, 0xc0, 0x01, 0xe0, 0x00, 0x60, 0x00, 0x00, 0x00};

/*
Esempio di codice
https://github.com/olikraus/u8g2/blob/master/sys/arduino/u8g2_full_buffer/IconMenu/IconMenu.ino

Font delle icone
https://github.com/olikraus/u8g2/wiki/fntgrpiconic#open_iconic_all_2x

2x sono 16x16

Anche
https://github.com/olikraus/u8g2/wiki/fntgrpstreamline
sono carine
*/

struct menu_entry_type
{
  const uint8_t *font;
  uint16_t icon;
  const char *name;
  void (*drawFunc)();
};

struct menu_state
{
  int16_t menu_start;     /* in pixel */
  int16_t frame_position; /* in pixel */
  uint8_t position;       /* position, array index */
};

extern U8G2_SSD1306_128X64_NONAME_F_HW_I2C *u8g2;

void initOled();

void drawPage();
#endif